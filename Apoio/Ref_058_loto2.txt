#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define N 5 // quantidade de números a sortear

// Programa Ref_058_loto2
//
// Este programa é o mesmo que o anterior (loto1)
// com a diferença que cria uma função para 
// verificar se o novo número gerado já saiu.


// Função que recebe como argumentos um valor inteiro, val,
// e um array, sorte,a fim de verificar se o valor val se 
// encontra no array sorte.

// Devolve 0, se val não se encontra no array

// Devolve 1, se val se encontra, retornando
// imediatamente da função logo que este caso
// seja verdaeiro.

int verifica_se_num_repetido(int val, int vals[])
{
// Os params formais são:
// 
// val é o novo número gerado
// vals é o array com números não repetidos//

	int k;

	for (k = 0; k < N; k++)
	{
		if(val == vals[k])
		{
			return 1; // encontrou num repetido
		}
	} // fecha for

	return 0; // se chegou aqui é que num é único

} // fecha func


void main()
{
// declaração das vars

	int loto[N]; // para guardar os cinco nums únicos

	int i; // ctdr de nums únicos
	
	int num; // var auxilair para guardar o novo num gerado

	int ja_saiu; // flag, para assinalar se num é repetido
 

// inicializar os els do array a 0

	for (i = 0; i < N; i++)
	{
		loto[i] = 0;
	}
	
// Num conjunto de ciclos gerar os nums aleatórios
// e guardá-los num array os que não são repetidos

// Reset i para servir de contador de nums únicos
// isto significa que i só vai ser actualizado no
// caso da ocorrência de um valor gerado ser único

	i = 0;
	while ( i < N)
	{
// gerar num aleatório	

		srand((unsigned)time(NULL)); // a semente para realimentar rand	
		num = 1 + ( rand() % 50 ); // gera num aleatório
	
// chama função para verificar se num ja saiu
// se num ja saiu, a func devolve 1
// se num ainda não saiu então func devolve 0

		ja_saiu = verifica_se_num_repetido(num, loto);

		if (ja_saiu == 0)
		{
			loto[i] = num;
			i++;
		}

	} // fecha while

// ver os números gerados
	printf("\n\n\n Eis os numeros sorteados: \n\n");	
	for(i = 0; i < N; i++)
	{
		printf("\n %d", loto[i]);
	}

	printf("\n\n\n");
	system("pause");
}



